@startuml
actor Cliente
participant Orquestrador
participant Worker1
participant Worker2
participant Backup

Cliente -> Orquestrador : Autenticação
Cliente -> Orquestrador : Submete Tarefa
Orquestrador -> Worker1 : Enviar Tarefa
Worker1 -> Orquestrador : Confirmação Recebida
Worker1 -> Orquestrador : Heartbeat (status OK)

== Falha simulada ==
note over Worker1
Heartbeat ausente
end note
Orquestrador -> Orquestrador : Detecta falha de Worker1
Orquestrador -> Worker2 : Redistribui Tarefa
Worker2 -> Orquestrador : Resultado da Tarefa
Orquestrador -> Cliente : Status "done"

== Failover ==
Orquestrador -> Backup : Replicação de Estado
Orquestrador -x Backup : Orquestrador cai
Backup -> Cliente : Assume como Orquestrador
Cliente -> Backup : Submete nova tarefa
@enduml
